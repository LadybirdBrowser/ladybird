<!DOCTYPE html>
<script src="../include.js"></script>
<script>
    test(() => {
        try {
            let decoder = new TextDecoder("utf-8");
            println(`[${decoder.decode(new Uint8Array([0x41, 0x42, 0x43]))}]`); // "ABC"
            println(`[${decoder.decode()}]`);

            const surrogate = decoder.decode(new Uint8Array([0xed, 0xa0, 0x80])); // U+D800
            println(`[${surrogate.codePointAt(0).toString(16)}]`);
        } catch (e) {
            println("ERROR: " + e.name + ": " + e.message);
        }
    });
</script>
