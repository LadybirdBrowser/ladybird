<!DOCTYPE html>
<script src="../include.js"></script>
<div id="a" contenteditable="true">foobar</div>
<div id="b" contenteditable="true">foo👩🏼‍❤️‍👨🏻bar</div>
<script>
    test(() => {
        const testDelete = function (divId, position) {
            println(`--- ${divId} ---`);
            const divElm = document.querySelector(`div#${divId}`);
            println(`Before: ${divElm.textContent}`);

            // Place cursor
            const node = divElm.childNodes[0];
            getSelection().setBaseAndExtent(node, position, node, position);

            // Press backspace
            document.execCommand("delete");

            println(`After: ${divElm.textContent}`);
        };

        testDelete("a", 3);
        testDelete("b", 15);
    });
</script>
