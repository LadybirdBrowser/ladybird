<script src="../include.js"></script>
<div contenteditable="true">foobar</div>
<script>
    test(() => {
        var divElm = document.querySelector('div');
        divElm.addEventListener('input', (e) => println('input triggered'));

        // Put cursor between 'foo' and 'bar'
        var range = document.createRange();
        getSelection().addRange(range);
        range.setStart(divElm.childNodes[0], 3);
        range.setEnd(divElm.childNodes[0], 3);

        // Insert text
        document.execCommand('insertText', false, 'baz');

        println(divElm.innerHTML);
    });
</script>
